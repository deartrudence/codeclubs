<p id="notice"><%= notice %></p>
<h1>Listing Lessons</h1>
<%= form_tag(lessons_path, remote: true, method: :get) do %>
  <div class="wrapper wrapper--flex as--home-form font-quicksand">
    <div class="select">
      <%= select_tag 'subject', options_for_select(ActsAsTaggableOn::Tagging.includes(:tag).where(context: 'subject').uniq.pluck(:name).map { |s| [s.humanize, s]}), {:include_blank => 'select a subject'}%>
    </div>
    <div class="select">
      <%= select_tag 'code_concept', options_for_select(ActsAsTaggableOn::Tagging.includes(:tag).where(context: 'code_concept').uniq.pluck(:name).map { |s| [s.humanize, s]}), {:include_blank => 'select a code concept'}%>
    </div>
    <div class="select">
      <%= select_tag 'grade', options_for_select(ActsAsTaggableOn::Tagging.includes(:tag).where(context: 'grade').uniq.pluck(:name).map { |s| [s.humanize, s]}), {:include_blank => 'select a grade'}%>
    </div>

    <%= hidden_field_tag :search_complete, true %>
    <%= submit_tag 'Search', remote: true %>
  </div>
<% end %>
<div class="wrapper wrapper--flex" id="lessons-listing">
  <%= render 'lessons_listing'%>
</div>


<%= link_to 'New Lesson', new_lesson_path %>
