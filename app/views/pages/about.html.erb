<div class="wrapper wrapper--secondary">
    <h2 class="about-heading">About Us</h2>
  <div class="wrapper-flex as--about">    
    <div>
      <p><strong>Teachers Learning Code</strong> is designed by Ladies Learning Code and proudly supported by Scotiabank for educators focused on inspiring kids to be builders – not just consumers - of technology through coding activities and challenges.</p> 
      <p class="special">It’s all about using technology and changing the world through teamwork, creativity, and, of course, code.</p>
      <p>Whether you’re a teacher in a classroom, a program coordinator at a community centre, a home-schooling parent or a Girl Guide troop leader - we’ve put together a comprehensive how-to guide and lesson planning tool to help you teach kids to code. </p>
    </div>
    <%= image_tag 'tlc-circlehash.svg'%>
  </div>
  <div class="wrapper--flex">
    <div class="col--two as--about-guide-wrap">
      <h2 class="about-heading">Download the Guide</h2>
      <div class="as--about-guide">
        <div><%= image_tag 'tlc-howtoguide-mockup.png'%></div>
        <div>
          <p>We’ve combined our experiences teaching thousands of youth across the country to code, our tips and tricks to get started, resources to familiarize yourself with code, plus lots of easy to follow and even easier to implement coding activities to empower and teach the future generation of technologists across Canada.</p>
          <p class="special">This guide is your jumping off point - where you choose to take your program is up to you!</p>
          <p>We encourage you to use as much or as little of the guide as you like, to remix the challenges we’ve created or create new ones and share them with our community.</p>
          <a href="#" class="button button--tertiary as--about-buttons">Download<br>The Guide</a>
        </div>
      </div>
    </div>
    <div class="as--about-training">
      <div class="as--training">
        <h2>Request Training</h2>
        <p>Our training workshops across the country are led by industry leading experts and educators from our community. We’ll delve into our TLC guide and lesson plans while teaching educators how to use Scratch - a popular program to teach kids to code, how to map coding to the curriculum and how to introduce coding to your students!</p>
        <div>
          <a href="http://ladieslearningcode.com/" class="button button--tertiary as--about-buttons" target="_blank">upcoming<br>workshops</a>
          <a href="mailto:info@ladieslearningcode.com?Subject=Workshop%20Request" class="button button--tertiary as--about-buttons" target="_blank">Request<br>a Workshop</a>
        </div>
      </div>
      <div class="as--training">
        <h2>Join Our Online Network</h2>
        <p>Ladies Learning Code was built for the community by the community and it has made all of the difference for our learners’ success.  Join our Teachers Learning Code community forum, a Slack Team, to connect with other educators across the country, share resources and ask questions to our talented and generous community of developers and technical educators coast to coast.</p>
        <a href="#" class="button button--tertiary as--about-buttons" target="_blank" data-open="slack">Join<br>the Forum</a>
      </div>
    </div>
  </div>
 
</div>

<div class="modal--overlay">
  <div class="modal modal--about" id="slack">
    <form action="https://script.google.com/macros/s/AKfycbyPQ7KkP-dG-Ubxq98uftLjVvacMDSmxJNtSFhLyc5tIijX3cE/exec" id="slack-form" method="post">
      <label for="name">your name</label>
      <input type="text" id="name" name="name" value="">
      <label for="email">your email</label>
      <input type="email" id="email" name="email" value="">
      <input type="submit" value="join" class="button button--tertiary">
    </form>
  </div>
  <div class="modal modal--about" id="thank-you">
    <p class="center">Thank you! You will receive an invite to our Slack group shortly.</p>
  </div>
</div>



<script>

  $('[data-open]').on('click', function(e){
    e.preventDefault()
    var modal = $(this).data('open')
    $('#' + modal +', .modal--overlay').css('display', 'block').addClass('active')
  });

  $('.modal--overlay').on('click', function(){
    
    if($('.modal').hasClass('active')){
      $('.modal.active, .modal--overlay').removeClass('active').css('display', 'none');
    }
  });
  $('.modal').on('click', function(e){
    e.stopPropagation();
  });

  (function ($) {
      $.fn.serializeFormJSON = function () {
        var o = {};
        var a = this.serializeArray();
        $.each(a, function () {
          if (o[this.name]) {
            if (!o[this.name].push) { o[this.name] = [o[this.name]]; }
            o[this.name].push(this.value || '');
          } else { o[this.name] = this.value || ''; }
        });
        return o;
      };
    })(jQuery);
  var request;
  $('#slack-form').submit(function(e){
    var $form = $(this)
    var serializedData = $form.serializeFormJSON()
    console.log(serializedData)
    var $inputs = $form.find("input, select, button, textarea");
    request = $.ajax({
      url: 'https://script.google.com/macros/s/AKfycbyPQ7KkP-dG-Ubxq98uftLjVvacMDSmxJNtSFhLyc5tIijX3cE/exec', 
      type: 'post', 
      data: serializedData
    });

     // Callback handler that will be called on success
    request.done(function (response, textStatus, jqXHR){
        // Log a message to the console
        $('.modal.active').removeClass('active').css('display', 'none');
        
        $('#thank-you').css('display', 'block').addClass('active');
        setTimeout(function(){
          $('#thank-you').css('display', 'none').removeClass('active');
          $('.modal--overlay').css('display', 'none').removeClass('active');
        }, 2000)

    });

    // Callback handler that will be called on failure
    request.fail(function (jqXHR, textStatus, errorThrown){
        // Log the error to the console
        console.error(
            "The following error occurred: "+
            textStatus, errorThrown
        );
    });
    request.always(function () {
            // Reenable the inputs
            $inputs.prop("disabled", false);
        });
    e.preventDefault()
  });
   
</script>